<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: vistaadmin.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: vistaadmin.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
    @file Contiene la vista del login del administrador
    @author Free Chapapote &lt;albertosalazarmunoz.guadalupe@alumnado.fundacionloyola.net>
    @license GPL-3.0-or-later
**/

/**
 * Vista del administrador
 * Contiene el formulario para que el administrador inicie sesión
 * Se hace la validación de este formulario
 */
export class VistaAdmin {
    /**
     * @param  {HTMLDivElement} div Div principal de la vista
     */
    constructor(div) {
        this.div = div
        this.crear()
    }

    /**
     * La funcion crear va a añadir los diferentes elementos del formualario mediante DOM 
     */
    crear() {
        console.log("estoy aqui");
        this.etiquetaForm = document.createElement('form')
        this.etiquetaForm.setAttribute('id', 'login')

        this.divNuevo = document.createElement('div')
        this.divNuevo.setAttribute('id', 'formularioLogin')

        this.tituloInicioSesion = document.createElement('h2')
        this.tituloInicioSesion.textContent = 'INICIO DE SESION'

        this.labelUsuario = document.createElement('label')
        this.labelUsuario.textContent = 'Usuario'
        this.labelUsuario.setAttribute('for', 'usuario')


        this.inputEmail = document.createElement('input')
        this.inputEmail.type = 'text'
        this.inputEmail.name = 'usuario'
        this.inputEmail.id = 'idInputEmail'
        this.inputEmail.setAttribute('placeholder', 'example@addres.net')
        this.inputEmail.setAttribute('required', 'required')
        //this.inputEmail.setAttribute('pattern', '^((?!\.)[\w_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$')

        this.labelPassword = document.createElement('label')
        this.labelPassword.textContent = 'Contraseña'
        this.labelPassword.setAttribute('for', 'password')

        this.inputPassword = document.createElement('input')
        this.inputPassword.type = 'password'
        this.inputPassword.name = 'password'
        this.inputPassword.id = 'idInputPass'
        this.inputPassword.setAttribute('required', 'required')
        //  this.inputPassword.setAttribute('pattern', '^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[^\w\d\s:])([^\s]){8,16}$')

        this.btnSubmit = document.createElement('button')
        this.btnSubmit.type = 'submit'
        this.btnSubmit.textContent = 'ENTRAR'
        this.btnSubmit.addEventListener('click', this.validarCampos)

        //Añadimos los elementos anteriormente creados en el div principal de esta vista
        this.div.appendChild(this.etiquetaForm)
        this.etiquetaForm.appendChild(this.divNuevo)
        this.divNuevo.appendChild(this.tituloInicioSesion)
        this.divNuevo.appendChild(this.labelUsuario)
        this.divNuevo.appendChild(this.inputEmail)
        this.divNuevo.appendChild(this.labelPassword)
        this.divNuevo.appendChild(this.inputPassword)
        this.divNuevo.appendChild(this.btnSubmit)


    }

    /**
     * La funcion se carga cuando se podroduce el evento de clickar sobre el boton Entrar 'btnEntrar' 
     * La función comprueba si se estan cumpliendos los requisitos del match
     */
    validarCampos() {
        console.log('estoy aqui validadndo');
        let user = document.getElementById('idInputEmail').value
        let pass = document.getElementById('idInputPass').value
        let formulario = document.getElementById('formularioLogin')

        if (user.match(/^((?!\.)[\w_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/) == null) {
            alert('introduce bien el correo')

        } else if (pass.match(/^(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[^\w\d\s:])([^\s]){8,16}$/) == null) {
            alert('introduce bien la contraseña')

        }
        else {
            alert('todo bien')
        }

    }
}

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Controlador.html">Controlador</a></li><li><a href="VistaAdmin.html">VistaAdmin</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Sun Nov 27 2022 18:08:39 GMT+0100 (hora estándar de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
